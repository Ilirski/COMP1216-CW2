<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
    <org.eventb.core.prProof name="INITIALISATION/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="phars'" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ↔ phars'"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE))⊆(∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPharmacy/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="APPOINTMENT,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p40"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p22,p24,p25"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p20,p7,p1,p19,p8,p16,p13,p21,p3,p15,p11,p4,p9,p6,p17,p22,p23,p24,p25,p26,p28,p29,p40,p41,p42">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×(USER×PHARMACIES))"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="pharmacy∈PHARMACIES∧pharmacy∉ran(pharmacies)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="appointment_date∈appointment ⤔ date"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬pharmacy∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="date⊆DATE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Staff=role(current_user)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="available_appointment∈appointment ↔ pharmacies"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="appointment⊆APPOINTMENT"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num∈ℕ1"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Client=role(current_user)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∈appointment ↔ pharmacies∪{current_user ↦ pharmacy}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacy∈PHARMACIES"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv2/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p9"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE))⊆(∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPharmacy/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="APPOINTMENT,AVAILABLE_DATE,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30,p31"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p17">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p40"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p25,p27,p28"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p13,p23,p8,p2,p22,p9,p19,p16,p24,p4,p14,p11,p1,p5,p18,p10,p12,p7,p20,p25,p26,p27,p28,p29,p31,p32,p40,p41,p42">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×(USER×PHARMACIES))"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking_process" org.eventb.core.type="ℙ(APPOINTMENT×PHARMACIES×USER)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(AVAILABLE_DATE×ℤ)"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacy_appointment_list" org.eventb.core.type="ℙ(APPOINTMENT×DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="booking_process∈available_appointment → USER"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="pharmacy∈PHARMACIES∧pharmacy∉ran(pharmacies)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="appointment_date∈APPOINTMENT → DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬pharmacy∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Staff=role(current_user)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="accepted_appointment∈USER → pharmacies"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="pharmacy_appointment_list∈appointment_date ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="available_appointment∈APPOINTMENT → PHARMACIES"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="accepted_appointment∈USER → pharmacies∪{current_user ↦ pharmacy}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="date∈AVAILABLE_DATE ↔ ℕ"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="apt_num∈ℕ1"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Client=role(current_user)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy∈PHARMACIES"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(client)=Client" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p19"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p20"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p21"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p1"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps=""/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
                                                    <org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p24">
                                        <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×(USER×PHARMACIES))"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ic∈USER"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬role(client)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_appointment∈USER ⇸ USER × PHARMACIES"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="available_booking⊆AVAILABLE_BOOKING">
            <org.eventb.core.prIdent name="AVAILABLE_BOOKING" org.eventb.core.type="ℙ(AVAILABLE_BOOKING)"/>
            <org.eventb.core.prIdent name="available_booking" org.eventb.core.type="ℙ(AVAILABLE_BOOKING)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∈dom(accepted_appointment)∧accepted_appointment∈USER ⇸ USER × PHARMACIES"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="accepted_appointment∈USER → pharmacies"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="ic∈dom(accepted_appointment)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ROLE={role(client),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(client)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬role(client)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prExpr name="e0" org.eventb.core.expression="USER"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/check-password/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p2">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p1" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
                                            <org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p24">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="password∈USER ⇸ PASSWORD"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="user∈dom(password)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="user∈registered"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="user∈dom(password)∧password∈USER ⇸ PASSWORD"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="password∈registered ↣ PASSWORD"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prExpr name="e0" org.eventb.core.expression="registered"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/grd1/GRD"/>
    <org.eventb.core.prProof name="Login/grd2/GRD"/>
    <org.eventb.core.prProof name="Login/current_user/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="user=current_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="user=no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Logout/check-registered/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Logout/check-password/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Logout/check-not-logged-in/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p11"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p12"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p13"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p16"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p21"/>
                                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p23"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Logout/login/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ChangeUserPassword/password-is-different/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p9,p17,p6,p1,p15,p7,p13,p12,p19,p5,p8,p16,p18,p2,p4,p10,p20,p21,p22,p23,p24,p25">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p41">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p17"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="password∈USER ⇸ PASSWORD"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(password)∧password∈USER ⇸ PASSWORD"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="current_user∈dom(password)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered ↣ PASSWORD"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ChangeUserPassword/new-user-not-registered/GRD"/>
    <org.eventb.core.prProof name="ChangeUserPassword/new-user-not-null/GRD"/>
    <org.eventb.core.prProof name="ChangeUserPassword/is-not-logged-in/GRD"/>
    <org.eventb.core.prProof name="ChangeUserPassword/grd1/GRD"/>
    <org.eventb.core.prProof name="ChangeUserPassword/register-user/SIM"/>
    <org.eventb.core.prProof name="ChangeUserPassword/assign-client/SIM"/>
    <org.eventb.core.prProof name="ChangeUserPassword/set-pass/SIM"/>
    <org.eventb.core.prProof name="ChangeUserPassword/act1/SIM"/>
    <org.eventb.core.prProof name="RegisterClient/check-registered/GRD"/>
    <org.eventb.core.prProof name="RegisterClient/check-logged-in/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p1">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p31"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p32"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p33"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p34"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p35"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p36"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p37"/>
                                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p38"/>
                                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬⊤"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/log-out/SIM"/>
    <org.eventb.core.prProof name="RegisterClient/role/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role∪{new_user ↦ Client}=role"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="new_user ↦ Client∈role"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/nric/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="new_user ↦ ic∈nric"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="nric∪{new_user ↦ ic}=nric"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/password/EQL"/>
    <org.eventb.core.prProof name="RegisterClient/registered/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p11">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p29"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p30"/>
                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p31"/>
                                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p32"/>
                                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p33"/>
                                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p34"/>
                                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p35"/>
                                        <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p36"/>
                                        <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p37"/>
                                        <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                        <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="new_user∈registered"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="registered∪{new_user}=registered"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="new_user∈USER∧new_user∉registered"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/check-logged-in/GRD"/>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/password-is-different/GRD"/>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/set-password/SIM"/>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/role/EQL"/>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/registered/EQL"/>
    <org.eventb.core.prProof name="INITIALISATION/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,PRESCRIPTIONS">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(PRESCRIPTIONS×NRIC))∈(∅ ⦂ ℙ(PRESCRIPTIONS)) ⇸ (∅ ⦂ ℙ(NRIC))"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv1/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p9"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPharmacy/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="APPOINTMENT,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p40"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p22,p24,p25"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p20,p7,p1,p19,p8,p16,p13,p21,p3,p15,p11,p4,p9,p6,p17,p22,p23,p24,p25,p26,p28,p29,p40,p41,p42">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×(USER×PHARMACIES))"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="pharmacy∈PHARMACIES∧pharmacy∉ran(pharmacies)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="appointment_date∈appointment ⤔ date"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬pharmacy∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="date⊆DATE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Staff=role(current_user)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="available_appointment∈appointment ↔ pharmacies"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="appointment⊆APPOINTMENT"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num∈ℕ1"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Client=role(current_user)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∈appointment ↔ pharmacies∪{current_user ↦ pharmacy}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacy∈PHARMACIES"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/prescriptions/EQL"/>
    <org.eventb.core.prProof name="getPrescription/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(client)=Client" org.eventb.core.prHyps="p11">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p24"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p25"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p26"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p27">
                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client∈registered⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="client∈dom(nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬role(client)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈dom(nric)∧nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="client∈registered∧role(client)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client∈dom(role)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ROLE={role(client),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(client)=Client"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(client)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client∈registered"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPrescription/prescriptions/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,PRESCRIPTIONS">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p11">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p21"/>
                                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p25"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="p∈PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic ↦ p∉prescriptions"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ic∈NRIC"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{ic ↦ p}=prescriptions"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateDate/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p16"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/inv6/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/inv6/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/inv5/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/inv5/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateDate/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="APPOINTMENT,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p18,p5,p1,p17,p6,p14,p12,p19,p2,p13,p9,p3,p4,p15,p20,p21,p22,p23,p24,p25,p26">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×(USER×PHARMACIES))"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="dt" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬dt∈date"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="appointment_date∈appointment ⤔ date∪{dt}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬pharmacies=(∅ ⦂ ℙ(USER×PHARMACIES))"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(pharmacies)≥1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="appointment_date∈appointment ⤔ date"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="date⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="dt∉date"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="available_appointment∈appointment ↔ pharmacies"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="appointment⊆APPOINTMENT"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(pharmacies)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p17"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="appointment⊆APPOINTMENT">
            <org.eventb.core.prIdent name="APPOINTMENT" org.eventb.core.type="ℙ(APPOINTMENT)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="date⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateDate/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="APPOINTMENT,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p18,p5,p1,p17,p6,p14,p12,p19,p2,p13,p9,p3,p4,p15,p20,p21,p22,p23,p24,p25,p26">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×PHARMACIES)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="dt" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬dt∈date"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="appointment_date∈appointment ⤔ date∪{dt}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬pharmacies=(∅ ⦂ ℙ(USER×PHARMACIES))"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(pharmacies)≥1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="appointment_date∈appointment ⤔ date"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="date⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="dt∉date"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="appointment⊆APPOINTMENT"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(pharmacies)"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p22,p9,p4,p19,p10,p16,p15,p6,p11,p7,p20,p21,p2,p5,p13,p23,p24,p25,p26,p27,p29,p30,p32">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬new_user∈registered"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ic∈NRIC"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="prescriptions∈pres ⤔ ran(nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∈pres ⤔ ran(nric∪{new_user ↦ ic})"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/inv7/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created_num=card(available_appointment ▷ {pmc})" org.eventb.core.prHyps="p23">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p7"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=card({pmc} ◁ appointment_num)" org.eventb.core.prHyps="p3">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p41"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p3"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p22,p11,p5,p21,p12,p19,p17,p24,p8,p18,p10,p13,p9,p6,p4,p2,p1,p7,p25,p26,p27,p28,p29,p30,p41,p42">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="apt_created_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pmc" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="apt_num=card({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="apt∈appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="apt_created_num≤apt_num"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role(current_user)≠Client"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬role(current_user)=Client"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="apt_created_num=card(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="card(available_appointment ▷ {pmc})≤apt_num"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∪{apt ↦ pmc}∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="finite(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="pmc∈phars"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="card(available_appointment ▷ {pmc})≤card({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20" org.eventb.core.prSets="APPOINTMENT,BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21,p22,p23,p24"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p21,p22,p23,p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created_num=card(available_appointment ▷ {pmc})" org.eventb.core.prHyps="p19">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p18,p8,p3,p17,p9,p15,p13,p20,p5,p14,p11,p6,p7,p4,p2,p1,p21,p22,p23,p24,p25">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(APPOINTMENT)"/>
        <org.eventb.core.prIdent name="appointment_date" org.eventb.core.type="ℙ(APPOINTMENT×DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt" org.eventb.core.type="APPOINTMENT"/>
        <org.eventb.core.prIdent name="apt_created_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(APPOINTMENT×PHARMACIES)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="date" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pmc" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×APPOINTMENT)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="apt∈appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="accepted_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="appointment_date∈appointment ⤔ date"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="date⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created_num=card(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="pmc∈phars"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="appointment⊆APPOINTMENT"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd5/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role(current_user)≠Client">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬role(current_user)=Client">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created_num=card(available_appointment ▷ {pmc})" org.eventb.core.prHyps="p20">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p19,p8,p3,p18,p9,p16,p14,p21,p5,p15,p6,p10,p7,p4,p2,p1,p22,p23,p24,p25,p26,p27">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="apt_created_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pmc" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="apt∈appointment"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="role(current_user)≠Client"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬role(current_user)=Client"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="apt_created_num=card(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="pmc∈phars"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created_num=card(available_appointment ▷ {pmc})" org.eventb.core.prHyps="p23">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p7"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=card({pmc} ◁ appointment_num)" org.eventb.core.prHyps="p3">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p41"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p3"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p22,p11,p5,p21,p12,p19,p17,p24,p8,p18,p10,p13,p9,p6,p4,p2,p1,p7,p25,p26,p27,p28,p29,p30,p41,p42">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="apt_created_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pmc" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(USER×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="apt_num=card({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="apt∈appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="apt_created_num≤apt_num"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role(current_user)≠Client"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬role(current_user)=Client"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="apt_created_num=card(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="card(available_appointment ▷ {pmc})≤apt_num"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∪{apt ↦ pmc}∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="finite(available_appointment ▷ {pmc})"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="pmc∈phars"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="card(available_appointment ▷ {pmc})≤card({pmc} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rejected_appointment∈registered → appointment"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p25,p26,p27"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p23,p8,p2,p20,p9,p18,p16,p5,p10,p17,p21,p22,p1,p4,p13,p11,p7,p6,p25,p26,p27,p28,p29,p30,p31,p42,p43,p44">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈pres ⤔ booked"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∈pres ⤔ booked∪{ic}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPrescription/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPrescription/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="hhhh/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="hhhh/prescriptions/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,PRESCRIPTIONS">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p11">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p21"/>
                                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p25"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="p∈PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic ↦ p∉prescriptions"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ic∈NRIC"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{ic ↦ p}=prescriptions"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/prescriptions/EQL" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,PRESCRIPTIONS">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="REWRITE11" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p27"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="icbook" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ p∈prescriptions">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="p∉PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ p∉prescriptions">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="icbook ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{icbook ↦ p}=prescriptions"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬p∈PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬⊤"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18" org.eventb.core.prSets="BATCH_NUM,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p20,p21,p22"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p19,p20,p21,p22"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p18,p8,p2,p17,p9,p15,p14,p4,p6,p5,p11,p7,p1,p19,p20,p21,p22,p23,p24,p25">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="p∉pres"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{ic ↦ p}∈NRIC ↔ pres∪{p}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬p∈pres"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="prescriptions∈NRIC ↔ pres"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p21,p10,p2,p20,p11,p18,p17,p5,p7,p8,p6,p12,p9,p13,p1,p15,p3,p22,p23,p24,p25,p26,p27">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∪{ic ↦ d}∈NRIC ↔ appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="offer∈NRIC ↔ appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="p∈pres"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="prescriptions∈NRIC ↔ pres"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p7">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p38"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p39"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p40"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p41"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p42"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p43"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p44"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p45"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p46"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p10">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p47"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p48"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p49"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p27,p28,p29"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p9,p18,p6,p19,p16,p23,p14,p13,p26,p22,p7,p25,p17,p2,p3,p24,p10,p8,p5,p1,p4,p11,p21,p27,p28,p29,p30,p31,p32,p47,p48,p49">
                                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="⊤∧d∈appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking∪{d}⊆appointment"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="booking⊆appointment∧d∈appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p10">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p27,p28,p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p19,p16,p23,p14,p13,p26,p22,p7,p25,p17,p2,p3,p24,p10,p8,p5,p1,p4,p11,p21,p27,p28,p29,p30,p31,p32,p44,p45,p46">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment ∖ {d ↦ ph}∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22,p23,p24,p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p21,p7,p2,p20,p8,p18,p16,p4,p17,p13,p12,p5,p10,p6,p1,p22,p23,p24,p25,p26,p27,p28,p29">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="p∉pres"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="accepted_appointment∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{ic ↦ p}∈booked ↔ pres∪{p}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈client_ic ⤖ appointment"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ p∉prescriptions"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬p∈pres"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="client_ic⊆NRIC"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈booked ↔ pres"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv6/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p13">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p23" org.eventb.core.prInfHyps="p39"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p40"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p23,p24,p25"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p22,p8,p3,p21,p9,p18,p15,p6,p16,p19,p12,p10,p7,p1,p4,p17,p23,p24,p25,p26,p27,p28,p29,p39,p40,p41">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="a" org.eventb.core.type="NRIC×DATE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="a∉accepted_appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer ∖ {ic ↦ d}∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="accepted_appointment∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈booked ↔ pres"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬a∈accepted_appointment"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20,p21,p22,p23"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p11">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p37"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p38"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p39"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p20,p21,p22"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p18,p5,p1,p17,p6,p15,p13,p3,p14,p10,p9,p7,p4,p20,p21,p22,p23,p24,p25,p26,p37,p38,p39">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="accepted_appointment∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="offer∈client_ic ⤖ appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="client_ic⊆NRIC"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈booked ↔ pres"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∈booked∪{ic} ↔ pres"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25,p26,p27"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24,p25,p26,p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p13">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p24,p25,p26"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p22,p8,p2,p19,p9,p17,p15,p5,p10,p16,p20,p21,p1,p4,p6,p11,p7,p24,p25,p26,p27,p28,p29,p30,p41,p42,p43">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∈pres ⇸ booked∪{ic}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21,p22,p23,p24"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p21,p22,p23,p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p11">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p37"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p38"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p23" org.eventb.core.prInfHyps="p39"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p21,p22,p23"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p19,p7,p2,p17,p8,p15,p13,p4,p14,p18,p1,p5,p9,p6,p21,p22,p23,p24,p25,p26,p27,p37,p38,p39">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="accepted_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ⤔ appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p19,p15,p23,p12,p11,p25,p27,p22,p5,p26,p16,p13,p18,p24,p8,p6,p3,p1,p2,p9,p21,p28,p29,p30,p31,p32,p33,p45,p46,p47">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment ∖ {d ↦ ph}∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p18,p7,p19,p16,p22,p14,p13,p21,p9,p24,p25,p17,p2,p3,p4,p5,p10,p6,p1,p26,p27,p28,p29,p30,p31,p32,p33">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{p ↦ ic}∈pres∪{p} ⇸ booked"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="p∉pres"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬p ↦ ic∈prescriptions"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬p∈pres"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="p ↦ ic∉prescriptions"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv7/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p20"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd8/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client_ic⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/grd9/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29,p30,p31,p32"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29,p30,p31,p32"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p23">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p19,p16,p25,p14,p12,p21,p27,p28,p10,p8,p2,p5,p3,p6,p1,p9,p26,p24,p22,p29,p30,p31,p32,p33,p34,p35,p36">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="p∈pres"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="accepted_appointment∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="offer∈client_ic ⤖ appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ph∈phars"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({ph} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="client_ic⊆NRIC"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="prescriptions∈booked ↔ pres"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p6">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p6"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p15,p24,p10,p2,p23,p11,p21,p19,p4,p12,p20,p17,p16,p8,p13,p9,p14,p5,p25,p26,p27,p28,p29,p30,p31,p32">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_ic" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="prescriptions∈booked ⤖ pres"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="accepted_appointment∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="offer∈client_ic ⤖ appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="phars⊆PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈phars"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({ph} ◁ appointment_num)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="client_ic⊆NRIC"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ↔ phars"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/grd6/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p23"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p16">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p21,p13,p28,p10,p9,p30,p32,p24,p5,p31,p15,p11,p19,p29,p1,p6,p2,p3,p25,p26,p16,p14,p22,p18,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p16">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p21,p13,p28,p10,p9,p30,p32,p24,p5,p31,p15,p11,p19,p29,p1,p6,p2,p3,p25,p26,p16,p14,p22,p18,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∪{d ↦ ph}∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p16">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p21,p13,p28,p10,p9,p30,p32,p24,p5,p31,p15,p11,p19,p29,p1,p6,p2,p3,p25,p26,p16,p14,p22,p18,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booked_appointment∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p48"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p49"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p6,p16,p3,p18,p14,p22,p11,p10,p24,p27,p20,p4,p25,p15,p12,p17,p23,p8,p5,p2,p1,p7,p28,p29,p30,p31,p32,p33,p34,p35,p47,p48,p49">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ic∉accepted_booked"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="ic∈ran({current_user} ◁ nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ↔ appointment"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv8/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p19"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getOfferedAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29,p30,p31,p32"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29,p30,p31,p32"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p11">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p48"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p29,p30,p31"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p19,p7,p20,p17,p24,p15,p13,p22,p8,p27,p28,p18,p2,p3,p4,p9,p5,p1,p25,p6,p14,p23,p29,p30,p31,p32,p33,p34,p35,p46,p47,p48">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ic ↦ d∉accepted_appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer ∖ {ic ↦ d}∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ⤔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ⤔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p25,p26,p27"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p22,p8,p2,p19,p9,p17,p16,p24,p5,p10,p20,p21,p1,p4,p13,p14,p11,p7,p6,p25,p26,p27,p28,p29,p30,p31,p43,p44,p45">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ⤔ appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25,p26,p27"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24,p25,p26,p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p13">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p41"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p24,p25,p26"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p22,p8,p2,p19,p9,p17,p15,p5,p10,p16,p20,p21,p1,p4,p6,p11,p7,p24,p25,p26,p27,p28,p29,p30,p41,p42,p43">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∈booked∪{ic} ⤔ booking"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p51"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p51" org.eventb.core.prInfHyps="p52"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p51"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p21,p14,p28,p12,p11,p31,p24,p7,p30,p16,p1,p2,p29,p3,p8,p4,p5,p25,p26,p17,p15,p22,p19,p32,p33,p34,p35,p36,p37,p38,p39,p51,p52">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked ⤔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p16">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p21,p13,p28,p10,p9,p30,p32,p24,p5,p31,p15,p11,p19,p29,p1,p6,p2,p3,p25,p26,p16,p14,p22,p18,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p20,p7,p22,p18,p28,p15,p13,p30,p32,p26,p8,p31,p19,p16,p21,p29,p4,p9,p5,p25,p1,p2,p11,p23,p6,p27,p33,p34,p35,p36,p37,p38,p39,p40">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d∉ran(rejected_appointment)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="p∈ran(prescriptions)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∪{ic ↦ d}∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈ran(rejected_appointment)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p19,p15,p23,p12,p11,p25,p27,p22,p5,p26,p16,p13,p18,p24,p8,p6,p3,p1,p2,p9,p21,p28,p29,p30,p31,p32,p33,p45,p46,p47">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="accepted_appointment∪{ic ↦ d}∈accepted_booked∪{ic} ↔ booking∪{d}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p10">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p42"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p26,p27,p28"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p19,p16,p22,p14,p12,p21,p7,p13,p25,p17,p2,p3,p24,p8,p5,p1,p4,p23,p26,p27,p28,p29,p30,p31,p42,p43,p44">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="NRIC×DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="accepted_appointment∈accepted_booked∪{ic} ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈pres ⤔ booked"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="d∈{ic} ◁ offer"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p11">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p48"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p19,p6,p20,p17,p23,p15,p13,p22,p8,p26,p27,p18,p2,p3,p4,p9,p5,p1,p24,p14,p28,p29,p30,p31,p32,p33,p34,p35,p46,p47,p48">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ic ↦ d∉accepted_appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer ∖ {ic ↦ d}∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p9">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p19,p4,p21,p17,p25,p14,p12,p29,p31,p24,p6,p30,p18,p15,p20,p27,p9,p7,p3,p1,p2,p22,p10,p13,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∪{ic ↦ d}∈rejected_booked∪{ic} ↔ appointment"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈booking"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ic ↦ d∉accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="d∉booking"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/inv6/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p23"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p24"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p25"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="ic ↦ d∉accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30,p31,p32,p33"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30,p31,p32,p33"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p11">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p50"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p51"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p30,p31,p32"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p19,p6,p20,p17,p24,p15,p13,p29,p23,p8,p28,p18,p2,p3,p26,p11,p9,p5,p1,p4,p21,p14,p30,p31,p32,p33,p34,p35,p36,p37,p38,p50,p51,p52">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬d∈booking"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ic ↦ d∉accepted_appointment"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer ∖ {ic ↦ d}∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="d∉booking"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/grd11/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13,p14,p15,p16"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13,p14,p15,p16"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p4">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p34"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p35"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p36"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p13,p14,p15"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p4"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p1,p2,p10,p9,p6,p16,p19,p20,p21,p22,p34,p35,p36">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p37">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p5"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d ↦ ph∈booked_appointment"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ic∈dom(accepted_appointment)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∈dom(accepted_appointment)∧accepted_appointment∈NRIC ⇸ DATE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="accepted_appointment∈NRIC ⇸ DATE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/grd12/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p2">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p30"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p31"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p32"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p5,p6,p7"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p2"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with d=accepted_appointment(ic)" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p36"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p38"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p39"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p40"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p41"/>
                                                        <org.eventb.core.prHypAction name="DESELECT6" org.eventb.core.prHyps="p33,p35,p37,p14,p16,p18"/>
                                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p1"/>
                                                        <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p38"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p3"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="d ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d=accepted_appointment(ic)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="d∈dom(available_appointment)"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="available_appointment∈DATE ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_appointment(ic)∈dom(available_appointment)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="ic ↦ accepted_appointment(ic)∈accepted_appointment"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="d∈dom(available_appointment)∧available_appointment∈DATE ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="d∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="accepted_appointment(ic)∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="accepted_appointment(ic) ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1,p2,p3" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p5,p6,p7"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with d=accepted_appointment(ic)" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p31"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p33"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p35"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p0" org.eventb.core.prInfHyps="p36"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p37"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p38"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p39"/>
                                                <org.eventb.core.prHypAction name="DESELECT7" org.eventb.core.prHyps="p30,p32,p34,p0,p13,p15,p17"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p1"/>
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ph=available_appointment(accepted_appointment(ic))" org.eventb.core.prHyps="p36">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p41"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p42"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p43"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p40,p33,p37"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p44"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="d ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="ph∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d=accepted_appointment(ic)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="accepted_appointment(ic)∈appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈available_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph=available_appointment(d)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="d∈appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="ic ↦ accepted_appointment(ic)∈accepted_appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="ph=available_appointment(accepted_appointment(ic))"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="available_appointment(accepted_appointment(ic))∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="accepted_appointment(ic) ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1,p2,p3" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p30"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p5,p6,p7"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with d=accepted_appointment(ic)" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p32"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p34"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p36"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p0" org.eventb.core.prInfHyps="p37"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p38"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p39"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p40"/>
                                                <org.eventb.core.prHypAction name="DESELECT7" org.eventb.core.prHyps="p31,p33,p35,p0,p13,p15,p17"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p1"/>
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ph=available_appointment(accepted_appointment(ic))" org.eventb.core.prHyps="p37">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p43"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p44"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p41,p34,p38"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p45"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="d ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="ph∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d=accepted_appointment(ic)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈available_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph=available_appointment(d)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="ic ↦ accepted_appointment(ic)∈accepted_appointment"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="ph=available_appointment(accepted_appointment(ic))"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="d∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="available_appointment(accepted_appointment(ic))∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="accepted_appointment(ic)∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="accepted_appointment(ic) ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p3,p19,p15,p24,p12,p10,p28,p30,p21,p5,p29,p16,p13,p18,p25,p8,p6,p2,p23,p1,p26,p31,p27,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1,p2,p3" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p5,p6,p7"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with d=accepted_appointment(ic)" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p31"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p33"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p35"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p0" org.eventb.core.prInfHyps="p36"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p37"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p38"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p39"/>
                                                <org.eventb.core.prHypAction name="DESELECT7" org.eventb.core.prHyps="p30,p32,p34,p0,p13,p15,p17"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p1"/>
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ph=available_appointment(accepted_appointment(ic))" org.eventb.core.prHyps="p36">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p41"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p42"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p43"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p40,p33,p37"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p44"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="d ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="ph∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d=accepted_appointment(ic)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="accepted_appointment(ic)∈appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈available_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph=available_appointment(d)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="d∈appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="ic ↦ accepted_appointment(ic)∈accepted_appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="ph=available_appointment(accepted_appointment(ic))"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="available_appointment(accepted_appointment(ic))∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="accepted_appointment(ic) ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p3,p19,p15,p24,p12,p10,p28,p30,p21,p5,p29,p16,p13,p18,p25,p8,p6,p2,p23,p1,p26,p31,p27,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∪{ic ↦ d}∈rejected_booked∪{ic} ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE))⊆(∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p50"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p18">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p51"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p50"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p19,p7,p22,p15,p29,p13,p12,p25,p8,p30,p31,p17,p1,p2,p3,p4,p9,p5,p6,p26,p16,p23,p20,p32,p33,p34,p35,p36,p37,p38,p39,p50,p51">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ⤔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25,p26,p27,p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p43"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p26" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p25,p26,p27"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p12,p22,p8,p2,p19,p9,p17,p16,p24,p5,p10,p20,p21,p1,p4,p13,p14,p11,p7,p6,p25,p26,p27,p28,p29,p30,p31,p43,p44,p45">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∈booked∪{ic} ⤔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreatePrescription/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26,p27,p28,p29"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p18,p7,p19,p16,p22,p14,p13,p21,p9,p24,p25,p17,p2,p3,p4,p5,p10,p6,p1,p26,p27,p28,p29,p30,p31,p32,p33">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{p ↦ ic}∈pres∪{p} ⇸ booked"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="rejected_appointment∈booked ⤔ booking"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="p∉pres"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬p ↦ ic∈prescriptions"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬p∈pres"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="p ↦ ic∉prescriptions"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="prescriptions∈pres ⇸ booked"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p51"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p51" org.eventb.core.prInfHyps="p52"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p51"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p21,p14,p28,p12,p11,p31,p24,p7,p30,p16,p1,p2,p29,p3,p8,p4,p5,p25,p26,p17,p15,p22,p19,p32,p33,p34,p35,p36,p37,p38,p39,p51,p52">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉ran(rejected_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈ran(rejected_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/inv12/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬d∈booking">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="d∉booking">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p3,p19,p15,p24,p12,p10,p28,p30,p21,p5,p29,p16,p13,p18,p25,p8,p6,p2,p23,p1,p26,p31,p27,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booked_appointment ∖ {d ↦ ph}∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1,p2,p3" org.eventb.core.prSets="DATE,NRIC,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p30"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p5,p6,p7"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with d=accepted_appointment(ic)" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p31" org.eventb.core.prInfHyps="p32"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p34"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p36"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p0" org.eventb.core.prInfHyps="p37"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p38"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF5" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p39"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF6" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p40"/>
                                                <org.eventb.core.prHypAction name="DESELECT7" org.eventb.core.prHyps="p31,p33,p35,p0,p13,p15,p17"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p1"/>
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with ph=available_appointment(accepted_appointment(ic))" org.eventb.core.prHyps="p37">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p43"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p44"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p41,p34,p38"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p45"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="d ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="ph∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="d=accepted_appointment(ic)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈available_appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph=available_appointment(d)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="ic ↦ accepted_appointment(ic)∈accepted_appointment"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="ph=available_appointment(accepted_appointment(ic))"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_appointment(ic) ↦ available_appointment(accepted_appointment(ic))∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="d∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="available_appointment(accepted_appointment(ic))∈ran(pharmacies)">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈rejected_appointment">
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="accepted_appointment(ic)∈booking">
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ accepted_appointment(ic)∈offer">
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="accepted_appointment(ic) ↦ ph∈booked_appointment">
            <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/grd8/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph∈dom(appointment_num)∧appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p10">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p27" org.eventb.core.prInfHyps="p44"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p27,p28,p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p19,p16,p23,p14,p13,p26,p22,p7,p25,p17,p2,p3,p24,p10,p8,p5,p1,p4,p11,p21,p27,p28,p29,p30,p31,p32,p44,p45,p46">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{ic} ⩤ rejected_appointment∈booked ∖ {ic} ⤔ appointment"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateNewPrescription/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateNewPrescription/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27,p28,p29,p30"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p18,p7,p19,p16,p23,p14,p13,p21,p9,p22,p26,p17,p2,p3,p24,p5,p10,p6,p1,p4,p27,p28,p29,p30,p31,p32,p33,p34">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(PRESCRIPTIONS×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="p∉pres"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="pres⊆PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬p∈pres"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="prescriptions∈pres ⤔ ran(nric)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬ic∈ran(prescriptions)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="prescriptions∪{p ↦ ic}∈pres∪{p} ⤔ ran(nric)"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ic∉ran(prescriptions)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateUpdatedPrescription/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateUpdatedPrescription/inv7/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬updated_p=p">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
            <org.eventb.core.prIdent name="updated_p" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="updated_p≠p">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
            <org.eventb.core.prIdent name="updated_p" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="updated_p∉pres">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="updated_p" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬updated_p∈pres">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="updated_p" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p51"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p51" org.eventb.core.prInfHyps="p52"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p51"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9,p18,p6,p21,p14,p28,p12,p11,p31,p24,p7,p30,p16,p1,p2,p29,p3,p8,p4,p5,p25,p26,p17,p15,p22,p19,p32,p33,p34,p35,p36,p37,p38,p39,p51,p52">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/grd5/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="DATE,NRIC,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p23"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p24"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p25"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∈dom(offer)∧offer∈NRIC ⇸ DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="offer∈NRIC ⇸ DATE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ic∈dom(offer)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/grd6/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="DATE,PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p23"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p24"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p25"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="d∈dom(available_appointment)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈DATE ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="d∈dom(available_appointment)∧available_appointment∈DATE ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/new-user/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p10">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p31"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p32"/>
                                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p33"/>
                                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="⊤∧¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="new_user∈USER∧¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="new_user∈USER∧new_user∉registered"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p16">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p4,p21,p13,p28,p10,p9,p30,p32,p24,p5,p31,p15,p11,p19,p29,p1,p6,p2,p3,p25,p26,p16,p14,p22,p18,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p5">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p37"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p38"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p39"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p40"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p41"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p42"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p43"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p44"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p45"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p46"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p47"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p48"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p49"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p50"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p7,p17,p4,p19,p15,p23,p12,p11,p25,p27,p22,p5,p26,p16,p13,p18,p24,p8,p6,p3,p1,p2,p9,p21,p28,p29,p30,p31,p32,p33,p48,p49,p50">
                                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="⊤∧d∈appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking∪{d}⊆appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booking⊆appointment∧d∈appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ViewAppointment/grd1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p17,p3,p19,p15,p24,p12,p10,p28,p30,p21,p5,p29,p16,p13,p18,p25,p8,p6,p2,p23,p1,p26,p31,p27,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking ∖ {d}⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ⤔ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-booked-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE))⊆(∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-available-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-booked-appt-pharmacy/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(DATE×PHARMACIES))∈(∅ ⦂ ℙ(DATE)) ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-booked-offer/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ↔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-accept-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ↔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/typeof-reject-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="DATE,NRIC">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×DATE))∈(∅ ⦂ ℙ(NRIC)) ↔ (∅ ⦂ ℙ(DATE))"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p48"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p49"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p8"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p6,p17,p3,p19,p15,p23,p12,p10,p11,p27,p21,p4,p25,p16,p13,p18,p24,p5,p2,p1,p7,p28,p29,p30,p31,p32,p33,p34,p35,p47,p48,p49">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ic∉accepted_booked"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="ic∈ran({current_user} ◁ nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ↔ appointment"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬ic∈booked"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ic∉booked"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/typeof-booked-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p22,p14,p29,p11,p9,p10,p32,p25,p5,p31,p16,p12,p20,p30,p1,p6,p2,p3,p26,p15,p23,p19,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/typeof-available-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p22,p14,p29,p11,p9,p10,p32,p25,p5,p31,p16,p12,p20,p30,p1,p6,p2,p3,p26,p15,p23,p19,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment∪{d ↦ ph}∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/typeof-booked-appt-pharmacy/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p22,p14,p29,p11,p9,p10,p32,p25,p5,p31,p16,p12,p20,p30,p1,p6,p2,p3,p26,p15,p23,p19,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booked_appointment∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p22,p14,p29,p11,p9,p10,p32,p25,p5,p31,p16,p12,p20,p30,p1,p6,p2,p3,p26,p15,p23,p19,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/typeof-reject-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p27">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_num=appointment_num(ph)" org.eventb.core.prHyps="p17">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p52" org.eventb.core.prInfHyps="p53"/>
                                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p52"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p22,p14,p29,p11,p9,p10,p32,p25,p5,p31,p16,p12,p20,p30,p1,p6,p2,p3,p26,p15,p23,p19,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="apt_num=appointment_num(ph)"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈appointment"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="apt_created≤apt_num − 1"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤appointment_num(ph) − 1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="card(available_appointment ▷ {ph})≤apt_num − 1"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="d∉appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∉available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p21,p7,p23,p19,p29,p16,p13,p14,p32,p27,p8,p31,p20,p17,p22,p30,p4,p9,p5,p26,p1,p2,p11,p24,p6,p28,p33,p34,p35,p36,p37,p38,p39,p40">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="p" org.eventb.core.type="PRESCRIPTIONS"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="d∉ran(rejected_appointment)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="ph∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="p∈ran(prescriptions)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role(current_user)∈{Admin,Staff}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic ↦ p∈prescriptions"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∪{ic ↦ d}∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="d ↦ ph∈available_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬d∈ran(rejected_appointment)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/typeof-booked-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p5">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p37"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p38"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p39"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p40"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p41"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p42"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p43"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p44"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p45"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p46"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p47"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p9">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p48"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p49"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p50"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p7,p18,p4,p20,p16,p24,p13,p11,p12,p27,p23,p5,p26,p17,p14,p19,p25,p6,p3,p1,p2,p8,p22,p28,p29,p30,p31,p32,p33,p48,p49,p50">
                                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="⊤∧d∈appointment"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking∪{d}⊆appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booking⊆appointment∧d∈appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/typeof-available-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p9">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p20,p16,p24,p13,p11,p12,p27,p23,p5,p26,p17,p14,p19,p25,p6,p3,p1,p2,p8,p22,p28,p29,p30,p31,p32,p33,p45,p46,p47">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="available_appointment ∖ {d ↦ ph}∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/typeof-booked-appt-pharmacy/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p21"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p22"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p23"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p21"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p22"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p23"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/typeof-accept-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p9">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p45"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p46"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p47"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p28,p29,p30"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p4,p20,p16,p24,p13,p11,p12,p27,p23,p5,p26,p17,p14,p19,p25,p6,p3,p1,p2,p8,p22,p28,p29,p30,p31,p32,p33,p45,p46,p47">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="accepted_appointment∪{ic ↦ d}∈accepted_booked∪{ic} ↔ booking∪{d}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬d∈booking">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="d∉booking">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉accepted_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/typeof-reject-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p10">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p20,p4,p22,p18,p26,p15,p12,p13,p31,p25,p6,p30,p19,p16,p21,p28,p7,p3,p1,p2,p23,p9,p14,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∈ran({ic} ◁ offer)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∪{ic ↦ d}∈rejected_booked∪{ic} ↔ appointment"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬d∈booking"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ic ↦ d∉accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈booked"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="d∈appointment"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d∉booking"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-booked-appt/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p8"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p3,p20,p16,p25,p13,p10,p11,p30,p22,p5,p29,p17,p14,p19,p26,p6,p2,p24,p1,p27,p31,p28,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booking ∖ {d}⊆appointment∪{d}"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-available-appt/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-booked-appt-pharmacy/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p8"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p3,p20,p16,p25,p13,p10,p11,p30,p22,p5,p29,p17,p14,p19,p26,p6,p2,p24,p1,p27,p31,p28,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="booked_appointment ∖ {d ↦ ph}∈appointment∪{d} ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-booked-offer/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p8"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p3,p20,p16,p25,p13,p10,p11,p30,p22,p5,p29,p17,p14,p19,p26,p6,p2,p24,p1,p27,p31,p28,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="offer∈booked∪{ic} ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-accept-booked/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p3,p4"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬role(current_user)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬ic ↦ d∈offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic ↦ d∉rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬role(current_user)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/typeof-reject-booked/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p44"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p45"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p46"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p47"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p48"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p49"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p50"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p51"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Client" org.eventb.core.prHyps="p8">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p52"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p53"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p34" org.eventb.core.prInfHyps="p54"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p32,p33,p34"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p8"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p18,p3,p20,p16,p25,p13,p10,p11,p30,p22,p5,p29,p17,p14,p19,p26,p6,p2,p24,p1,p27,p31,p28,p32,p33,p34,p35,p36,p37,p38,p39,p40,p52,p53,p54">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p52" org.eventb.core.predicate="ROLE={role(current_user),Staff,Admin}"/>
        <org.eventb.core.prPred name="p45" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ic ↦ d∉rejected_appointment"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬ic ↦ d∈offer"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ic ↦ d∉offer"/>
        <org.eventb.core.prPred name="p50" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="offer∈booked ↔ appointment"/>
        <org.eventb.core.prPred name="p47" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="accepted_appointment∈accepted_booked ↔ booking"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬ic ↦ d∈rejected_appointment"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rejected_appointment∪{ic ↦ d}∈rejected_booked∪{ic} ↔ appointment∪{d}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ph∉ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ic∈accepted_booked"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="ic ↦ d∈accepted_appointment"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p49" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬role(current_user)=Staff"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="prescriptions∈NRIC ⇸ PRESCRIPTIONS"/>
        <org.eventb.core.prPred name="p48" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p51" org.eventb.core.predicate="rejected_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬ph∈ran({d} ◁ available_appointment)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_appointment∈rejected_booked ↔ appointment"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="d∈booking"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ph∈ran({d} ◁ booked_appointment)"/>
        <org.eventb.core.prPred name="p44" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p46" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="BookAppointment/is-Client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/is-admin-or-staff/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/check-appt-num-count/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p23"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/check-appt-count/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p23"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
            <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="CreateAvailableAppointment/check-pharmacy-apt-num/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="DATE,PHARMACIES">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with apt_created=card(available_appointment ▷ {ph})" org.eventb.core.prHyps="p2">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p28">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_created" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="ph" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬d ↦ ph∈available_appointment">
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="ph∈dom(appointment_num)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬d∈appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="d∉appointment">
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="apt_created=card(available_appointment ▷ {ph})"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="d ↦ ph∉available_appointment">
            <org.eventb.core.prIdent name="d" org.eventb.core.type="DATE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ph∈dom(appointment_num)∧appointment_num∈PHARMACIES ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="OfferAppointment/is-admin-or-staff/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getOfferedAppointment/is-user-client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AcceptAppointment/is-client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RejectAppointment/is-client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ViewAppointment/is-client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RebookAppointment/is-client/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/is-registered-admin/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PASSWORD,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p2">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p1">
                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p27">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p2">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="no_user∈registered"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="⊥⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="role(no_user)=Admin"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/not-null/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p1">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p2">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬⊤"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/is-admin-authorized/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PASSWORD,PHARMACIES,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p2">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="pharmacy∈ran({current_user} ◁ pharmacies)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy∈ran({no_user} ◁ pharmacies)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/is-apt-num-positive-integer/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="Login/add-apt-num/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0,p1" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with password(user)=pass" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="password(user)=pass"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ChangeUserPassword/check-registered/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23,p24,p25,p26"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p37"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p38"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p39"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p40"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p41"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p42"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p43"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p10,p20,p6,p2,p18,p8,p15,p14,p22,p5,p9,p19,p21,p1,p4,p11,p7,p16,p23,p24,p25,p26,p27,p28,p29">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="accepted_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="available_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        <org.eventb.core.prIdent name="booked_appointment" org.eventb.core.type="ℙ(DATE×PHARMACIES)"/>
        <org.eventb.core.prIdent name="booking" org.eventb.core.type="ℙ(DATE)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="offer" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="rejected_appointment" org.eventb.core.type="ℙ(NRIC×DATE)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="offer∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="accepted_appointment∈accepted_booked ⤔ booking"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="booking⊆appointment"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="accepted_booked⊆NRIC"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="password∈USER ⇸ PASSWORD"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="appointment⊆DATE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬password(current_user)=new_pass"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="booked_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="new_pass∈PASSWORD"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user∈dom(password)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="rejected_appointment∈booked ⤔ appointment"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="password(current_user)≠new_pass"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="available_appointment∈appointment ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="password∈registered ↣ PASSWORD"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="booked⊆NRIC"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ChangeUserPassword/log-out/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p21"/>
                                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p23"/>
                                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p26"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬password(current_user)=new_pass">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="password(current_user)≠new_pass">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="ChangeUserPassword/password/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p24"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬password(current_user)=new_pass">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="password(current_user)≠new_pass">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/password-is-different/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬password(current_user)=new_pass"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="new_pass∈PASSWORD"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="password(current_user)≠new_pass"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬password(no_user)=new_pass"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/set-password/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="PASSWORD,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME">
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="password{new_user ↦ new_pass}=password{current_user ↦ new_pass}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="USER_NAME" org.eventb.core.type="ℙ(USER_NAME)"/>
            <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="new_pass∈PASSWORD"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="password{new_user ↦ new_pass}=password{no_user ↦ new_pass}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="ran(password)⊆PASSWORD"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/client_name/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16"/>
                        <org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19"/>
                        <org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p34"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p35"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p36"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE15" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE16" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p1">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="name∈USER_NAME"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ic ↦ name∈client_name"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ic∈NRIC"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬ic∈dom(client_name)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client_name∪{ic ↦ name}=client_name"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬new_user∈dom(nric)">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/is-not-logged-in/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/does-nric-exist/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤∧¬ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic∈NRIC∧¬ic∈ran(nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/does-client-name-exist/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="name" org.eventb.core.type="USER_NAME"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="name∈USER_NAME∧ic∉dom(client_name)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬ic∈dom(client_name)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤∧¬ic∈dom(client_name)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="name∈USER_NAME∧¬ic∈dom(client_name)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/does-new-user-exist/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p9">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p9"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤∧¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="new_user∈USER∧¬new_user∈dom(nric)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="new_user∈USER∧new_user∉registered"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="new_user∈USER∧new_user∉dom(nric)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/assign-client/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/add-nric-to-user/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAdminOrStaff/add-name-to-user/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p8"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/is-registered-admin/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p22">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22">
                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p22"/>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
                                                    <org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p25">
                                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prExpr name="e0" org.eventb.core.expression="registered"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/is-registered-client/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p14"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16,p17"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p31"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p10">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p32"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p33"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p3,p5,p6"/>
                                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p10"/>
                                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p33">
                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35"/>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Client"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="role(current_user)=Client"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="⊤∧role(current_user)=Client"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Staff=role(current_user)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Client=role(current_user)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/current-user-has-nric/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p9">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p29"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p30"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p31"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p4,p5"/>
                                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=role(current_user)">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=role(current_user)">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/get-client-prescription/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p9">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p29"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p30"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p31"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p4,p5"/>
                                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=role(current_user)">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=role(current_user)">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/appointment_num/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p9">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p29"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p30"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p31"/>
                                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p4,p5"/>
                                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p9"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈registered∧role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="current_user∈registered⇒current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="current_user∈registered"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pres⊆PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Staff=role(current_user)">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="ran(password)⊆PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Client=role(current_user)">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="initPrescription/check-user-prescription/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,PRESCRIPTIONS">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p20"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∉dom(prescriptions)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬ic∈dom(prescriptions)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pres∈PRESCRIPTIONS">
            <org.eventb.core.prIdent name="pres" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="phars⊆PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="phars" org.eventb.core.type="ℙ(PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="accepted_booked⊆NRIC">
            <org.eventb.core.prIdent name="accepted_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="appointment⊆DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="appointment" org.eventb.core.type="ℙ(DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="booked⊆NRIC">
            <org.eventb.core.prIdent name="booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rejected_booked⊆NRIC">
            <org.eventb.core.prIdent name="rejected_booked" org.eventb.core.type="ℙ(NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
</org.eventb.core.prFile>

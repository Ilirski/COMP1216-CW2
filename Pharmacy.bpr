<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
    <org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×USER_NAME))∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getPrescription/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(client)=Client" org.eventb.core.prHyps="p11">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p24"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p25"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p26"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p27">
                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client∈registered⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="client∈dom(nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬role(client)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈dom(nric)∧nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="client∈registered∧role(client)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client∈dom(role)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ROLE={role(client),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(client)=Client"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(client)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client∈registered"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p1"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(USER×NRIC))∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPrescription/act1/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(registered,admins,staff,clients))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with registered=admins∪staff∪clients" org.eventb.core.prHyps="p3">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p3"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p22">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="admins" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="clients" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="staff" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="registered⊆USER"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈dom(nric)∧nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="prescription∈PRESCRIPTIONS∧prescription∉ran(prescriptions)">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescription" org.eventb.core.type="PRESCRIPTIONS"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(registered,admins,staff,clients)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬prescription∈ran(prescriptions)">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescription" org.eventb.core.type="PRESCRIPTIONS"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="registered=admins∪staff∪clients"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="admins∩clients=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="admins∩staff=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="client∈dom(nric)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="prescription∈PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescription" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="staff∩clients=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_count∈BATCH_NUM ↔ ℤ">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_count" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ↔ DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ↔ MEDICINE_NAME">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="MEDICINE_NAME" org.eventb.core.type="ℙ(MEDICINE_NAME)"/>
            <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="appointment_num∈PHARMACIES ↔ ℤ">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPrescription/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(register,admins,staff,clients))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p9"/>
                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p10"/>
                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p12"/>
                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p13"/>
                        <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p14"/>
                        <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p15"/>
                        <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p16"/>
                        <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p17"/>
                        <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p18"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with register=admins∪staff∪clients" org.eventb.core.prHyps="p3">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p3"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="admins" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="clients" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="register" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="staff" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈dom(nric)∧nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(register,admins,staff,clients)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="users⊆USER">
            <org.eventb.core.prIdent name="users" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="register=admins∪staff∪clients"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="admins∩clients=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="admins∩staff=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="client∈dom(nric)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="prescription∈PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescription" org.eventb.core.type="PRESCRIPTIONS"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="staff∩clients=(∅ ⦂ ℙ(USER))"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine_count∈BATCH_NUM ↔ ℤ">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_count" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ↔ DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="medicine∈BATCH_NUM ↔ MEDICINE_NAME">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="MEDICINE_NAME" org.eventb.core.type="ℙ(MEDICINE_NAME)"/>
            <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="appointment_num∈PHARMACIES ↔ ℤ">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAsClient/inv5/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE14" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine∈BATCH_NUM ↔ MEDICINE_NAME">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="MEDICINE_NAME" org.eventb.core.type="ℙ(MEDICINE_NAME)"/>
            <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="client∈USER">
            <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_count∈BATCH_NUM ↔ ℤ">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="medicine_count" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ↔ DATE">
            <org.eventb.core.prIdent name="DATE" org.eventb.core.type="ℙ(DATE)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="appointment_num∈PHARMACIES ↔ ℤ">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="BATCH_NUM,MEDICINE_NAME,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p4,p5,p6,p7">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(BATCH_NUM×MEDICINE_NAME))∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p4,p5,p6,p7">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(BATCH_NUM×ℤ))∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(NRIC×USER_NAME))∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p4,p5,p6,p7">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(PHARMACIES×ℤ))∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPharmacy/grd2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16,p17,p18"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15,p16,p17,p18"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p7,p13,p5,p1,p12,p6,p10,p9,p14,p3,p15,p16,p17,p18,p19,p21,p22">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p31">
                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p5"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="pharmacy∈PHARMACIES∧pharmacy∉ran(pharmacies)"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="current_user∈dom(role)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬pharmacy∈ran(pharmacies)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user≠no_user"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬current_user=no_user"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacy∈PHARMACIES"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddMedicine/grd1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p17">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="admin∈registered⇒admin∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="admin∈registered"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="admin∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="admin∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddMedicine/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19,p20,p21"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18,p19,p20,p21"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(admin)=Admin" org.eventb.core.prHyps="p15">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p34"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p35"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p36"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p18,p20,p21"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p16,p6,p2,p14,p7,p11,p10,p17,p3,p15,p12,p5,p4,p18,p19,p20,p21,p22,p24,p34,p35,p36">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="batch" org.eventb.core.type="BATCH_NUM"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_name" org.eventb.core.type="MEDICINE_NAME"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="qty" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="qty∈ℕ1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="medicine_name∈MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="admin∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="medicine∪{batch ↦ medicine_name}∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="ROLE={Client,Staff,role(admin)}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="batch∈BATCH_NUM"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=role(admin)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role(admin)=Admin"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="batch∈BATCH_NUM∧batch∉dom(medicine)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬batch∈dom(medicine)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=role(admin)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="admin∈dom(role)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddMedicine/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18,p19,p20,p21"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18,p19,p20,p21"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p31"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p32"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p33"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(admin)=Admin" org.eventb.core.prHyps="p15">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p34"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p35"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p36"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p18,p20,p21"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p16,p6,p2,p14,p7,p11,p10,p17,p3,p15,p12,p5,p4,p18,p19,p20,p21,p22,p24,p34,p35,p36">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="batch" org.eventb.core.type="BATCH_NUM"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="qty" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="qty∈ℕ1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="medicine_name∈MEDICINE_NAME">
            <org.eventb.core.prIdent name="medicine_name" org.eventb.core.type="MEDICINE_NAME"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="admin∈USER"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="ROLE={Client,Staff,role(admin)}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="batch∈BATCH_NUM"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Staff=role(admin)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role(admin)=Admin"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="batch∈BATCH_NUM∧batch∉dom(medicine)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{batch ↦ qty}∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬batch∈dom(medicine)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Client=role(admin)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="admin∈dom(role)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getPrescription/grd1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p16">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p1">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="p16"/>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
                                                    <org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p19">
                                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="client∈dom(role)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈registered⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="client∈registered"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prExpr name="e0" org.eventb.core.expression="registered"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getPrescription/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="NRIC,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(client)=Client" org.eventb.core.prHyps="p11">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p24"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p25"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p26"/>
                                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p4,p5,p6"/>
                                                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p11"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p27">
                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p1"/>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="client" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="client∈registered⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="client∈dom(nric)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬role(client)=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒client∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="client∈dom(nric)∧nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="client∈registered∧role(client)=Client"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="client∈dom(role)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="ROLE={role(client),Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="role(client)=Client"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="nric∈USER ⇸ NRIC"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬role(client)=Staff">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="client∈registered"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/grd1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16"/>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p17">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="admin∈registered⇒admin∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="admin∈registered"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="admin∈dom(role)∧role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="admin∈dom(role)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getClientName/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p2">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p1" org.eventb.core.prHyps="p1"/>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
                                            <org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p19"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="user∈registered"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="user∈dom(role)∧role∈USER ⇸ ROLE∧(role(user)=Admin∨(user∈dom(role)∧role∈USER ⇸ ROLE))"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="role(user)=Admin∨(user∈dom(role)∧role∈USER ⇸ ROLE)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="user∈dom(role)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prExpr name="e0" org.eventb.core.expression="registered"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="getClientName/grd4/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="NRIC,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p9,p10" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p15"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p16"/>
                                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p18"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p19"/>
                                        <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p20"/>
                                        <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p21"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="ic∈dom(client_name)∧client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="role∈USER ⇸ ROLE">
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="role(user)=Admin∨(user∈dom(role)∧role∈USER ⇸ ROLE)">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
            <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈dom(client_name)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="ic∈dom(client_name)∧⊤"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="role(user)=Admin∨(⊤∧⊤)">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
            <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="user∈dom(role)">
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
            <org.eventb.core.prIdent name="user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="USER" org.eventb.core.type="ℙ(USER)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL4"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterAsAdmin/set-pass/SIM"/>
    <org.eventb.core.prProof name="updateAptNum/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16" org.eventb.core.prSets="BATCH_NUM,DATE,MEDICINE_NAME,NRIC,PASSWORD,PHARMACIES,PRESCRIPTIONS,ROLE,USER,USER_NAME">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17,p18,p19,p20"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17,p18,p19,p20"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p24"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p25"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p26"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p27"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p28"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p29"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p30"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(admin)=Admin" org.eventb.core.prHyps="p14">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p31"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p32"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p33"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p17,p19,p20"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p6,p15,p4,p1,p13,p5,p9,p8,p16,p2,p14,p11,p3,p10,p17,p18,p19,p20,p21,p31,p32,p33">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="appointment_num" org.eventb.core.type="ℙ(PHARMACIES×ℤ)"/>
        <org.eventb.core.prIdent name="apt_num" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="client_name" org.eventb.core.type="ℙ(NRIC×USER_NAME)"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="last_medicine_date" org.eventb.core.type="ℙ(PRESCRIPTIONS×DATE)"/>
        <org.eventb.core.prIdent name="medicine" org.eventb.core.type="ℙ(BATCH_NUM×MEDICINE_NAME)"/>
        <org.eventb.core.prIdent name="medicine_qty" org.eventb.core.type="ℙ(BATCH_NUM×ℤ)"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        <org.eventb.core.prIdent name="password" org.eventb.core.type="ℙ(USER×PASSWORD)"/>
        <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="role∈USER ⇸ ROLE"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="admin∈USER"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="role∈registered → ROLE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="ROLE={Client,Staff,role(admin)}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="registered⊆USER ∖ {no_user}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="nric∈USER ⤔ NRIC"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="client_name∈NRIC ⇸ USER_NAME"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Staff=role(admin)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="medicine∈BATCH_NUM ⇸ MEDICINE_NAME"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="role(admin)=Admin"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="password∈registered → PASSWORD"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="current_user∈registered∪{no_user}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="appointment_num∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="appointment_num{pharmacy ↦ apt_num}∈PHARMACIES ⇸ ℕ1"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="medicine_qty∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="apt_num∈ℕ1"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Client=role(admin)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="admin∈dom(role)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="pharmacy∈PHARMACIES"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="last_medicine_date∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="AddPharmacy/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(current_user)=Admin" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p20"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p21"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p22"/>
                                        <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p2,p4,p5"/>
                                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="current_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Staff=role(current_user)">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="pharmacy∈PHARMACIES∧pharmacy∉ran(pharmacies)">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="role(current_user)=Admin"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬pharmacy∈ran(pharmacies)">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬current_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="ROLE={Client,Staff,role(current_user)}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Client=role(current_user)">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="pharmacy∈PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy" org.eventb.core.type="PHARMACIES"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.heL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="DATE,PRESCRIPTIONS,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p4,p5,p6,p7">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(PRESCRIPTIONS×DATE))∈PRESCRIPTIONS ⇸ DATE"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="RegisterClient/inv5/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="p0" org.eventb.core.prSets="USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14,p15"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p19"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p20"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p21"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p22"/>
                                <org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p23"/>
                                <org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with current_user=no_user" org.eventb.core.prHyps="p0">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="current_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="current_user=no_user"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="new_user≠no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="new_user∈USER∧new_user∉registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_user∈USER">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬new_user=no_user">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬ic∈ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬new_user∈registered">
            <org.eventb.core.prIdent name="new_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="registered" org.eventb.core.type="ℙ(USER)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="ROLE" org.eventb.core.type="ℙ(ROLE)"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="ic∈NRIC∧ic∉ran(nric)">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
            <org.eventb.core.prIdent name="nric" org.eventb.core.type="ℙ(USER×NRIC)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="ic∈NRIC">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="ic" org.eventb.core.type="NRIC"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES">
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PHARMACIES" org.eventb.core.type="ℙ(PHARMACIES)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="new_pass∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="new_pass" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eqL1:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="updateAptNum/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="PHARMACIES,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p11"/>
                                <org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p13"/>
                                <org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p15"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(admin)=Admin" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p17"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p18"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p19"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p3,p5,p6"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with role(admin)=Admin" org.eventb.core.prHyps="p1">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p17"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p18"/>
                                                <org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p19"/>
                                                <org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p3,p5,p6"/>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="admin" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="pharmacies" org.eventb.core.type="ℙ(USER×PHARMACIES)"/>
        <org.eventb.core.prIdent name="role" org.eventb.core.type="ℙ(USER×ROLE)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬root_user=no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_user∈USER">
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="medicine_info∈PRESCRIPTIONS ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="medicine_info" org.eventb.core.type="ℙ(PRESCRIPTIONS×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="ROLE={Client,Staff,role(admin)}">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="no_user∈USER">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="prescriptions∈NRIC ↔ PRESCRIPTIONS">
            <org.eventb.core.prIdent name="NRIC" org.eventb.core.type="ℙ(NRIC)"/>
            <org.eventb.core.prIdent name="PRESCRIPTIONS" org.eventb.core.type="ℙ(PRESCRIPTIONS)"/>
            <org.eventb.core.prIdent name="prescriptions" org.eventb.core.type="ℙ(NRIC×PRESCRIPTIONS)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="root_user≠no_user">
            <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
            <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="pharmacies∈USER ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="admin∈dom(pharmacies)∧pharmacies∈USER ⇸ PHARMACIES"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Client=role(admin)">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})">
            <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="admin∈dom(pharmacies)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Staff=role(admin)">
            <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="role(admin)=Admin"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="pharmacies∈USER ↔ PHARMACIES"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="pharmacy_stock∈PHARMACIES ↔ BATCH_NUM">
            <org.eventb.core.prIdent name="BATCH_NUM" org.eventb.core.type="ℙ(BATCH_NUM)"/>
            <org.eventb.core.prIdent name="pharmacy_stock" org.eventb.core.type="ℙ(PHARMACIES×BATCH_NUM)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="BATCH_NUM,ROLE,USER">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(ROLE,{Client},{Staff},{Admin}))" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p4,p5,p6,p7">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Admin" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Client" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="Staff" org.eventb.core.type="ROLE"/>
        <org.eventb.core.prIdent name="no_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prIdent name="root_user" org.eventb.core.type="USER"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬root_user=no_user"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="no_user∈USER"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(BATCH_NUM×ℤ))∈BATCH_NUM ⇸ ℕ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="root_user∈USER"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="root_user≠no_user"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Staff=Admin"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Client=Admin"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Client=Staff"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="ROLE={Client,Staff,Admin}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(ROLE,{Client},{Staff},{Admin})"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="root_password∈PASSWORD">
            <org.eventb.core.prIdent name="PASSWORD" org.eventb.core.type="ℙ(PASSWORD)"/>
            <org.eventb.core.prIdent name="root_password" org.eventb.core.type="PASSWORD"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
</org.eventb.core.prFile>
